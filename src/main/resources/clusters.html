<html>
  <head>
    <title>Bubble Chart</title>
    <script type="text/javascript" src="js/protovis-r3.2.js"></script>
    <script type="text/javascript" src="js/twatter-clusters.js"></script>
    <style type="text/css">

body {
  margin: 0;
}

    </style>
  </head>

  <body>
    <script type="text/javascript+protovis">

/* Produce a flat hierarchy of the Flare classes. */
var classes = pv.nodes(twatter);

/* For pretty number formatting. */
var format = pv.Format.number();

var vis = new pv.Panel()
    .width(document.body.clientWidth)
    .height(document.body.clientHeight);

vis.add(pv.Layout.Pack)
    .top(-50)
    .bottom(-50)
    .nodes(classes)
    .size(function(d) d.nodeValue.size)
    .spacing(0)
    .order(null)
  .node.add(pv.Dot)
    .fillStyle(pv.Colors.category20().by(Math.random))
    .strokeStyle(function() this.fillStyle().darker())
    .visible(function(d) d.parentNode)
    .title(function(d) d.nodeValue.id)
  .anchor("center").add(pv.Label)
    .text(function(d) d.nodeValue.words);

vis.render();

    </script>
  </body>
</html>

