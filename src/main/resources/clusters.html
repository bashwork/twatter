<html>
  <head>
    <title>Bubble Chart</title>
    <script type="text/javascript" src="js/protovis-r3.2.js"></script>
    <script type="text/javascript" src="js/twatter-clusters.js"></script>
    <style type="text/css">

body { margin: 0; }

    </style>
  </head>

  <body>
    <script type="text/javascript+protovis">

var format = pv.Format.number();
var vis = new pv.Panel()
    .width(document.body.clientWidth)
    .height(document.body.clientHeight);

var tree = pv.nest(twatter)
    .key(function(d) d.id)
    .key(function(d) d.term);
    //.value(function(d) d.value);
    //map();

/*
var bubble = vis.add(pv.Layout.Pack)
    .top(-50)
    .bottom(-50)
    .nodes(pv.nodes(twatter))
    .size(function(d) d.nodeValue.weight)
    .spacing(0)
    .order(null)
  .node.add(pv.Dot)
    .fillStyle(pv.Colors.category20().by(Math.random))
    .strokeStyle(function() this.fillStyle().darker())
    .visible(function(d) d.parentNode)
    .title(function(d) d.nodeValue.id);
   
 bubble.anchor("center").add(pv.Label)
    .font('bold 11px Georgia')
    .text(function(d) d.nodeValue.terms);
*/

var bubble = vis.add(pv.Layout.Pack)
    .top(-50)
    .bottom(-50)
    .nodes(pv.nodes(twatter))
    .size(function(d) d.nodeValue.weight)
    .spacing(0)
    .order(null)
  .node.add(pv.Dot)
    .fillStyle(pv.Colors.category20().by(Math.random))
    .strokeStyle(function() this.fillStyle().darker())
    .visible(function(d) d.parentNode)
    .title(function(d) d.nodeValue.id);

var inner = bubble.add(pv.Layout.Pack);
   //.node.add(pv.Dot);

vis.render();

    </script>
  </body>
</html>

